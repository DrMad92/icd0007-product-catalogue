<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link href="../style/products.css" rel="stylesheet" type="text/css"/>
    <link href="../style/add_form.css" rel="stylesheet" type="text/css" >
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" type="text/javascript"></script>

    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.18/b-1.5.6/cr-1.5.0/sl-1.3.0/datatables.min.css"/>
    <script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.18/b-1.5.6/cr-1.5.0/sl-1.3.0/datatables.min.js"></script>

    <script src="../js/products.js" type="text/javascript" defer></script>
</head>
<body>
    <div>
        <button id="addForm-add-button" class="" type="button" style="display:none">
            Add product
        </button>
        <div class="blackout" id="addForm">
            <div class="form-popup">
                <form id="addForm-submit" action="action_product.php" class="form-container" method="POST">
                    <h1><b>Add product</b></h1>
                    <label for="name">Product name</label>
                    <input type="text" placeholder="Allowed alphanumeric and space" name="name" required pattern="[A-z0-9À-ž ]+">
                    <label for="pid">Product ID:</label>
		            <input type="text" pattern="[A-z0-9À-ž]+" name="pid" placeholder="Allowed alphanumeric">
		            <textarea form ="addForm-submit" name="description" rows="5" placeholder="Product description"></textarea>
                    <input type="hidden" name="category" value="{{category}}">
                    <button type="submit" class="btn">Add</button>
                    <button id="addForm-close-button" type="button" class="btn cancel">Close</button>
                </form>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <table id="products-table" class="display">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Product ID</th>
                    <th>Product Name</th>
                    <th>Description</th>
                    <th>Category</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
            {% for product in productList %}
                <tr>
                    <td>{{ product.id }}</td>
                    <td>{{ product.productID }}</td>
                    <td>{{ product.name }}</td>
                    <td>{{ product.description }}</td>
                    <td>{{ product.category }}</td>
                    <td></td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</body>
</html>